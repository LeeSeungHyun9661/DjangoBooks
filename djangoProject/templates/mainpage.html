{% extends 'base.html' %}
{% block content %}
{% load static %}
  {% comment %} 도서 종류별 메뉴 {% endcomment %}
  
<hr>
<div class="mainpage">
  <div class="d-flex" style="height: auto">
    <div class="books-menu p-1">
      <div class="accordion accordion-flush" id="accordionFlushExample">
        {% comment %} 도서 종류 아이템 - Book {% endcomment %}
        <div class="accordion-item">
          <h2 class="accordion-header">
            <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#flush-collapse-Book" aria-expanded="false" aria-controls="flush-collapse-Book">
              Book
            </button>
          </h2>
          <div id="flush-collapse-Book" class="accordion-collapse collapse" data-bs-parent="#accordionFlushExample">
            <div class="accordion-body p-0">
              <ul class="list-group list-group-flush">
                <li class="list-group-item">An item</li>
                <li class="list-group-item">A second item</li>
                <li class="list-group-item">A third item</li>
                <li class="list-group-item">A fourth item</li>
                <li class="list-group-item">And a fifth one</li>
              </ul>            
            </div>
          </div>
        </div>
        {% comment %} 도서 종류 아이템 - E-Book{% endcomment %}
        <div class="accordion-item">
          <h2 class="accordion-header">
            <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#flush-collapse-Ebook" aria-expanded="false" aria-controls="flush-collapse-Ebook">
              E-Book
            </button>
          </h2>
          <div id="flush-collapse-Ebook" class="accordion-collapse collapse" data-bs-parent="#accordionFlushExample">
            <div class="accordion-body p-0">
              <ul class="list-group list-group-flush">
                <li class="list-group-item">An item</li>
                <li class="list-group-item">A second item</li>
                <li class="list-group-item">A third item</li>
                <li class="list-group-item">A fourth item</li>
                <li class="list-group-item">And a fifth one</li>
              </ul>             
            </div>
          </div>
        </div>
      </div>
    </div>
    <div class="vr"></div>
  </div>
  
  
  
  <div class="main">
    {% comment %} 도서 할인 광고 {% endcomment %}
    <div id="carouselExampleInterval" class="carousel slide" data-bs-ride="carousel">
      <div class="carousel-indicators">
        <button type="button" data-bs-target="#carouselExampleCaptions" data-bs-slide-to="0" class="active" aria-current="true" aria-label="Slide 1"></button>
        <button type="button" data-bs-target="#carouselExampleCaptions" data-bs-slide-to="1" aria-label="Slide 2"></button>
        <button type="button" data-bs-target="#carouselExampleCaptions" data-bs-slide-to="2" aria-label="Slide 3"></button>
      </div>
      <div class="carousel-inner">
        <div class="carousel-item active" data-bs-interval="5000">
          <img src="{% static 'img/no_book_image.png' %}" class="d-block w-100" alt="...">
        </div>
        <div class="carousel-item" data-bs-interval="2000">
          <img src="{% static 'img/no_book_image.png' %}" class="d-block w-100" alt="...">
        </div>
        <div class="carousel-item">
          <img src="{% static 'img/no_book_image.png' %}" class="d-block w-100" alt="...">
        </div>
      </div>
      <button class="carousel-control-prev" type="button" data-bs-target="#carouselExampleInterval" data-bs-slide="prev">
        <span class="carousel-control-prev-icon" aria-hidden="true"></span>
        <span class="visually-hidden">Previous</span>
      </button>
      <button class="carousel-control-next" type="button" data-bs-target="#carouselExampleInterval" data-bs-slide="next">
        <span class="carousel-control-next-icon" aria-hidden="true"></span>
        <span class="visually-hidden">Next</span>
      </button>
    </div>
    <hr>
    {% comment %} 새롭게 출시된 책 {% endcomment %}

    <h3 class="new-release-title">New Release</h3>    
    <div class="row">
      <div class="col-7 p-0">
        <div class="carousel-wheel">
          <div id="carousel">
            <ul class="flip-items">
              <li><img src="{% static 'img/book-img.jpg' %}" value="15001"></li>
              <li><img src="{% static 'img/book-img.jpg' %}" value="15002"></li>
              <li><img src="{% static 'img/book-img.jpg' %}" value="15003"></li>
              <li><img src="{% static 'img/book-img.jpg' %}" value="15004"></li>
              <li><img src="{% static 'img/book-img.jpg' %}" value="15005"></li>              
              <li><img src="{% static 'img/book-img.jpg' %}" value="15006"></li>
            </ul>
          </div>
          <script>
            $(document).ready(function(){
              change_info("15001");
            });

            // Flipster 초기화 및 함수 지정
            var carousel = $("#carousel").flipster({
              style: 'carousel',
              spacing: -0.5,
              nav: false,
              buttons: true,
              autoplay: 5000,
              loop:true,
              start: 0,
              onItemSwitch : function(current){
                isbn = current.getElementsByTagName('img')[0].getAttribute("value");
                change_info(isbn)
              },
            });

            // Flipster 변화에 따른 설명문 변경
            function change_info(isbn){
              info_title = document.querySelector("#carousel-info-title");
              info_title.innerText =isbn;
            }
          </script>
        </div>
      </div>
      <div class="col-5">
        <div class="carousel-info">
          <a id="carousel-info-title">Title</a>        
          <a id="carousel-info-writer">Writer</a>          
          <a id="carousel-info-publisher">Publish</a>
        </div>
      </div>   
    </div>
    

    
    <hr>
    {% comment %} 베스트 셀러 {% endcomment %}
    <hr>
    {% comment %} 추천 도서 {% endcomment %}
  </div>
  


</div>
  
{% endblock %}